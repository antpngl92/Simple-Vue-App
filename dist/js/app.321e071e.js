(function(e){function t(t){for(var r,o,s=t[0],i=t[1],u=t[2],l=0,v=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);b&&b(t);while(v.length)v.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var b=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0a1e":function(e,t,n){},"33fb":function(e,t,n){"use strict";n("7b8f")},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,c,o){const s=Object(r["z"])("flashMessage"),i=Object(r["z"])("navigation");return Object(r["s"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(s),Object(r["i"])(i)],64)}const c={id:"app"},o={id:"nav"},s=Object(r["h"])("Events"),i=Object(r["h"])(" | "),u=Object(r["h"])("About");function b(e,t){const n=Object(r["z"])("router-link"),a=Object(r["z"])("router-view");return Object(r["s"])(),Object(r["f"])("div",c,[Object(r["g"])("div",o,[Object(r["i"])(n,{to:{name:"EventList"}},{default:Object(r["E"])(()=>[s]),_:1}),i,Object(r["i"])(n,{to:{name:"About"}},{default:Object(r["E"])(()=>[u]),_:1})]),Object(r["i"])(a)])}n("8560");var l=n("6b0d"),v=n.n(l);const p={},j=v()(p,[["render",b]]);var O=j;const d={key:0,id:"flashMessage"};function f(e,t,n,a,c,o){return o.GStore.flashMessage?(Object(r["s"])(),Object(r["f"])("div",d,Object(r["B"])(o.GStore.flashMessage),1)):Object(r["e"])("",!0)}var h={inject:["GStore"]};n("a117");const g=v()(h,[["render",f]]);var m=g,E={components:{navigation:O,flashMessage:m}};const y=v()(E,[["render",a]]);var k=y,w=n("6605");const _={key:0},P={id:"nav"},M=Object(r["h"])("Details"),x=Object(r["h"])(" | "),B=Object(r["h"])("Register"),S=Object(r["h"])(" | "),R=Object(r["h"])("Edit");function z(e,t,n,a,c,o){const s=Object(r["z"])("router-link"),i=Object(r["z"])("router-view");return c.event?(Object(r["s"])(),Object(r["f"])("div",_,[Object(r["g"])("h1",null,Object(r["B"])(c.event.title),1),Object(r["g"])("div",P,[Object(r["i"])(s,{to:{name:"EventDetails"}},{default:Object(r["E"])(()=>[M]),_:1}),x,Object(r["i"])(s,{to:{name:"EventRegister"}},{default:Object(r["E"])(()=>[B]),_:1}),S,Object(r["i"])(s,{to:{name:"EventEdit"}},{default:Object(r["E"])(()=>[R]),_:1})]),Object(r["i"])(i,{event:c.event},null,8,["event"])])):Object(r["e"])("",!0)}var q=n("bc3a"),L=n.n(q);const N=L.a.create({baseURL:"https://my-json-server.typicode.com/Code-Pop/Touring-Vue-Router",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});var C={getEvents(e,t){return N.get("/events?_limit="+e+"&_page="+t)},getEvent(e){return N.get("/events/"+e)}},G={props:["id"],data(){return{event:null}},created(){C.getEvent(this.id).then(e=>{this.event=e.data}).catch(e=>{e.response&&404==e.response.status?this.$router.push({name:"404Resource",params:{resource:"event"}}):this.$router.push({name:"NetworkError"})})}};const I=v()(G,[["render",z]]);var A=I;function D(e,t,n,a,c,o){return Object(r["s"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("p",null,Object(r["B"])(n.event.time)+" on "+Object(r["B"])(n.event.date)+" @ "+Object(r["B"])(n.event.location),1),Object(r["g"])("p",null,Object(r["B"])(n.event.description),1)],64)}var T={props:["event"]};const $=v()(T,[["render",D]]);var U=$;const J={key:0},Y=Object(r["g"])("p",null,"Register for the event",-1);function F(e,t,n,a,c,o){return n.event?(Object(r["s"])(),Object(r["f"])("div",J,[Y,Object(r["g"])("button",{onClick:t[0]||(t[0]=(...e)=>o.register&&o.register(...e))},"Register Me")])):Object(r["e"])("",!0)}var V={props:["event"],inject:["GStore"],methods:{register(){this.GStore.flashMessage="You are successfully registered for "+this.event.title,setTimeout(()=>{this.GStore.flashMessage=""},3e3),this.$router.push({name:"EventDetails"})}}};const H=v()(V,[["render",F]]);var K=H;const Q={key:0},W=Object(r["g"])("p",null,"Edit the event",-1),X=[W];function Z(e,t,n,a,c,o){return n.event?(Object(r["s"])(),Object(r["f"])("div",Q,X)):Object(r["e"])("",!0)}var ee={props:["event"],data(){return{unsavedChanges:!1}},beforeRouteLeave(){if(this.unsavedChanges){const e=window.confirm("Do you really want to leave? You have unsaved changes!");if(!e)return!1}}};const te=v()(ee,[["render",Z]]);var ne=te;const re=e=>(Object(r["v"])("data-v-458cde46"),e=e(),Object(r["t"])(),e),ae=re(()=>Object(r["g"])("h1",null,"Events for Good",-1)),ce={class:"events"};function oe(e,t,n,a,c,o){const s=Object(r["z"])("EventCard"),i=Object(r["z"])("PaginationBar");return Object(r["s"])(),Object(r["f"])(r["a"],null,[ae,Object(r["g"])("div",ce,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(c.events,e=>(Object(r["s"])(),Object(r["d"])(s,{key:e.id,event:e},null,8,["event"]))),128)),Object(r["i"])(i,{page:n.page,totalPages:c.totalPages},null,8,["page","totalPages"])])],64)}const se={class:"event-card"};function ie(e,t,n,a,c,o){const s=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["d"])(s,{class:"event-link",to:{name:"EventDetails",params:{id:n.event.id}}},{default:Object(r["E"])(()=>[Object(r["g"])("div",se,[Object(r["g"])("span",null,"@"+Object(r["B"])(n.event.time)+" on "+Object(r["B"])(n.event.date),1),Object(r["g"])("h4",null,Object(r["B"])(n.event.title),1)])]),_:1},8,["to"])}var ue={props:{event:{type:Object,required:!0}}};n("df59");const be=v()(ue,[["render",ie],["__scopeId","data-v-4d235f53"]]);var le=be;const ve={class:"pagination-bar"},pe=Object(r["h"])("< Previous"),je={class:"page-numbers"},Oe=Object(r["h"])("Next >");function de(e,t,n,a,c,o){const s=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["f"])("div",ve,[Object(r["i"])(s,{id:"page-prev",to:{name:"EventList",query:{page:n.page-1}},rel:"prev",class:Object(r["o"])({hidden:1==n.page})},{default:Object(r["E"])(()=>[pe]),_:1},8,["to","class"]),Object(r["g"])("div",je,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(this.totalPages,(e,t)=>(Object(r["s"])(),Object(r["d"])(s,{to:{name:"EventList",query:{page:e}},key:t},{default:Object(r["E"])(()=>[Object(r["h"])(Object(r["B"])(e),1)]),_:2},1032,["to"]))),128))]),Object(r["i"])(s,{id:"page-next",to:{name:"EventList",query:{page:n.page+1}},rel:"next",class:Object(r["o"])({hidden:!o.hasNextPage})},{default:Object(r["E"])(()=>[Oe]),_:1},8,["to","class"])])}var fe={props:{page:{type:Number,required:!0},totalPages:{type:Number,required:!0}},computed:{hasNextPage(){return this.page<this.totalPages}}};n("cd72");const he=v()(fe,[["render",de],["__scopeId","data-v-48f5d43f"]]);var ge=he,me=n("323e"),Ee=n.n(me),ye={name:"EventList",props:["page"],components:{EventCard:le,PaginationBar:ge},data(){return{events:null,totalEvents:0,totalPages:0}},beforeRouteEnter(e,t,n){Ee.a.start();const r=parseInt(e.query.page)||1;C.getEvents(2,r).then(e=>{n(t=>{t.events=e.data,t.totalEvents=e.headers["x-total-count"],t.totalPages=Math.ceil(t.totalEvents/2)})}).catch(()=>{n({name:"NetworkError"})}).finally(()=>{Ee.a.done()})},beforeRouteUpdate(e){Ee.a.start();const t=parseInt(e.query.page)||1;C.getEvents(2,t).then(e=>{this.events=e.data,this.totalEvents=e.headers["x-total-count"],this.totalPages=Math.ceil(this.totalEvents/2)}).catch(()=>({name:"NetworkError"})).finally(()=>{Ee.a.done()})}};n("33fb");const ke=v()(ye,[["render",oe],["__scopeId","data-v-458cde46"]]);var we=ke;const _e=[{path:"/",name:"EventList",component:we,props:e=>({page:parseInt(e.query.page)||1})},{path:"/events/:id",name:"EventLayout",props:!0,component:A,children:[{path:"",name:"EventDetails",component:U},{path:"register",name:"EventRegister",component:K},{path:"edit",name:"EventEdit",component:ne},{path:"/event/:afterEvent(.*)",redirect:e=>({path:"/events/"+e.params.afterEvent})}]}];var Pe=_e;const Me={class:"about"},xe=Object(r["g"])("p",null,"A site for events to better the world.",-1),Be=[xe];function Se(e,t){return Object(r["s"])(),Object(r["f"])("div",Me,Be)}const Re={},ze=v()(Re,[["render",Se]]);var qe=ze;const Le=[{path:"/about",name:"About",component:qe}];var Ne=Le;const Ce=Object(r["g"])("h1",null,"Oops!",-1),Ge=Object(r["h"])("Back to the home page");function Ie(e,t,n,a,c,o){const s=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["f"])(r["a"],null,[Ce,Object(r["g"])("h3",null,"The "+Object(r["B"])(n.resource)+" you're looking for is not here.",1),Object(r["i"])(s,{to:{name:"EventList"}},{default:Object(r["E"])(()=>[Ge]),_:1})],64)}var Ae={props:{resource:{type:String,required:!0,default:"page"}}};const De=v()(Ae,[["render",Ie]]);var Te=De;const $e=[{path:"/:catchAll(.*)",name:"NotFound",component:Te},{path:"/404/:resource",name:"404Resource",component:Te,props:!0}];var Ue=$e;const Je={class:"networkError"},Ye=Object(r["g"])("h1",null,"Uh-Oh!",-1),Fe=Object(r["h"])(" It looks like you're experiencing some network issues, please take a breath and "),Ve=Object(r["h"])(" to try again. ");function He(e,t){return Object(r["s"])(),Object(r["f"])("div",Je,[Ye,Object(r["g"])("h3",null,[Fe,Object(r["g"])("a",{href:"#",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},"click here"),Ve])])}const Ke={},Qe=v()(Ke,[["render",He]]);var We=Qe;const Xe=[{path:"/network-error",name:"NetworkError",component:We}];var Ze=Xe;const et=[...Pe,...Ne,...Ue,...Ze],tt=Object(w["a"])({history:Object(w["b"])("/"),routes:et});var nt=tt,rt=n("5502"),at=Object(rt["a"])({state:{},mutations:{},actions:{},modules:{}});n("a5d8");const ct=Object(r["w"])({flashMessage:""});Object(r["c"])(k).use(at).use(nt).provide("GStore",ct).mount("#app")},"7b2b":function(e,t,n){},"7b8f":function(e,t,n){},8560:function(e,t,n){"use strict";n("7b2b")},a117:function(e,t,n){"use strict";n("bcf7")},bcf7:function(e,t,n){},cd72:function(e,t,n){"use strict";n("0a1e")},ceb1:function(e,t,n){},df59:function(e,t,n){"use strict";n("ceb1")}});
//# sourceMappingURL=app.321e071e.js.map